# 线性规划和网络流24题  

## 1. 飞行员配对方案  

### 二分图最大匹配、最大流  

## 2. 太空飞行计划问题  

### 最大权闭合子图    
 - 最大权闭合子图是指子图中所有的点出边都指向自身
 - 最大权闭合子图的求法如下：  
       点权为正的点与源点 S 相连  
       点权为负的点与汇点 T 相连  
 - 答案是点权为正的点的和减去构造的网络的最小割的差

## 3. 最小路径覆盖问题
### 最小路径覆盖 = 点数 - 最大匹配边数
 - 最小路径覆盖建图如下  
     将一个点j拆成两个两个点 x<sub>i</sub> , y<sub>i</sub> ,  
     如果有一条点i指向点j的边，则建 x<sub>i</sub> 到 y<sub>j</sub> 的边
     
## 4. 魔术球问题   
### 最小路径覆盖问题   
 - 预处理出球的关系，求最小路径覆盖，满足条件球数+1  

## 5. 圆桌问题

### 最大流
 - 建原点到公司边，流量为公司人数
 - 建公司到餐桌的边，流量为1
 - 最大流等于总人数说明有解

## 6. 最长递增子序列问题  
### 最大流  
 - 第一个题求LIS，可以dp
 - 第二个问题直接根据第一个dp的结果将点分成了LIS+2层
 - 直接根据关系建边就可以了
（Ps. 本题后两个问题因为求的是和LIS等长的有多少个，问题就比较简单）

## 7. 试题库问题   
### 二分图匹配问题

 -  直接建图，建源点到题目的边，边权为1，题目到题型的边，边权为1，题型到汇点的边，边权为该题所需的题目数。
 -  如果满流的情况下，最大流等于m，则认为是可行的，在残余网络上找到对应的解

## 8.机器人路径规划问题   
### 貌似不可做

## 9. 方格取数问题   
###  二分图最大点权独立集  

 - 先把棋盘黑白染色
 - 然后把黑的连源点，白的连汇点，边权为点权
 - 直接相连的两个点之间建立一条无穷大的边
 - 点权和 - 最大流 = 答案
  
## 10. 餐巾计划问题  
### 费用流  
 - 建图将一个点拆分成三个点
 - 第一个点表示现在有多少干净的餐巾
 - 第二个点表示现在需要多少干净的餐巾
 - 第三个点表示这一天会产生多少脏的餐巾
 - 建源点到第一个点容量无限大，费用为p
 - 建立源点到第三个点容量为r<sub>i</sub>，费用为0的边
 - 建立第二个点到汇点容量为r<sub>i</sub>，费用为0的边
 - 建立第一个点到第二点容量无线大，费用为0的边
 - 建立第三个点z<sub>i</sub>到点x<sub>i+m</sub>,容量为r<sub>i</sub>，费用为f的边
 - 建立第三个点z<sub>i</sub>到点x<sub>i+n</sub>,容量为r<sub>i</sub>，费用为s的边
##### 对于这张图跑费用流，求最大流为总需要的餐巾的个数，最小费用是最小的花费  
##### 这个题建图方式可以化简

## 11. 航空路线问题   
### 最大费用最小流
 - 建图方式，将第一个点拆成两个点，分别表示到达这个点（x）和从这个点出发（y）
 - 除了第一个点和最后一个点，建一条从x<sub>i</sub>到y<sub>i</sub>的边，容量为1，费用为0;
 - 对于存在航线的两个城市建立从点y到点x的边，容量为1，费用为1
 - 对于第一个点和最后一个点，建源点到他们的起点（y）边，容量为1，费用为0
 - 对于第一个点和最后一个点，建他们的到达的点（x）到汇点的边，容量为1，费用为0

#### 这个题中有一个限制是每一个点最多经过1次
 - 类似的问题可以通过将一个点拆成两个点，一个点表示到达这个点，另一个点表示从这个点出发

## 12.软件补丁问题  
### 状态压缩最短路

#####这个奇怪的东西混进来了  

## 13. 星际转移问题（*）
###  最大流

 + 这个题通过将点拆分成n天 
 + 通过拆分后很容易建图
 + 建完图后，通过二分答案，通过最大流是否等于地球上的人数来判断这个时间是否合适
 
## 14. 孤岛营救问题
### BFS

##### 又是一个不是网络流的问题

## 15. 汽车加油行驶问题  
###最短路

##### 根据油量剩余的多少建图，最后求一个最短路
##### 话说我做的是网络流24题吗

## 16. 数字梯形问题
### 费用流

#####这个题应该是觉得最漂亮的一个题

 - 智障一样的没读懂题意
 - 其实对于一个问题而言，只要拆点就可以解决了
 - 第二个问题，把拆点后一个点的进点和出点的容量改成无穷大就好
 - 第三个问题，把第二问中的两个点之间状态转移的边的容量改成无线大就好了

## 17. 运输问题
### 费用流裸题

 - 直接建图费用流就可以了


## 18. 分配问题
### 二分图的最大带权匹配问题，KM或者费用流

 - 建完图直接做
 
## 19. 负载平衡问题
### 费用流

 - 计算出均值后，给每一个仓库一个入边一个出边（可简化成一个边，入边还是出边根据这个点的点权和均值的大小关系决定的）
 - 相邻的两个仓库转移的代价为1，容量无线
 - 最小费用最大流

## 20. 深海机器人问题
### 费用流
 - 和数字梯形的第一问一样 拆点 然后费用流
#### 值得注意的是 这里的拆点可以对于所有点处理，有价值的点拆点其他的正常构成节点就可以了 （边会少很多？？）


## 21. 最长k可重区间集问题（*）
### 费用流

 - 建图，最简单的建图方式是把源点与所有的起点连边，流量为1
 - 然后没有个区间逐个传递
 - 其中起点的给一个k的流量
#### 这样不行，太多边了
 - 化简可以从离散化入手
 - 或者就是直接考虑区间的关系 能够相容


## 22. 最长k可重线段集问题
### 费用流
 - 和21一样，只要修改边上的费用就可以了

## 23. 火星探险问题
### 费用流
 - 同20

## 24.骑士共存问题
### 最大独立集
 - 观察到骑士能攻击到的点和这个点处在不同的颜色
 - 然后就可以黑白染色 变成二分图的问题
#### 最大独立集 = 总点数 - 最大匹配数





